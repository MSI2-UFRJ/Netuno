<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head />

<h:body>
<ui:composition template="/templates/template.xhtml">
	<ui:define name="content">
		<h:outputLabel value="Ola, " /><h:outputText value="#{fecharContratoModel.contratante.nome}" rendered="#{not empty fecharContratoController}" /><br />
		<h:outputLabel value="Novo Contrato" /><br />
		
		<h:form id="formContrato">
				<h:outputLabel value="PreÃ§o:  " />
		   		<h:outputText 	id="preco"
		   						value="#{fecharContratoModel.contrato.preco}">
					<f:convertNumber type="currency" currencySymbol="$" />
				</h:outputText><br /><br />
				
				<h:outputLabel value="Forma de Pagamento: " />
	            <p:selectOneMenu 	id="pagamentoMenu"
	            					value="#{fecharContratoModel.contrato.formaPagamento}"
	            					required="true"
	            					requiredMessage="Selecione uma forma de pagamento.">
		   			<f:selectItems 	value="#{fecharContratoModel.formasPagamento}"
		   							var="formaPagamento"
		   							itemLabel="#{formaPagamento}"
		   							itemValue="#{formaPagamento}" />
		   		</p:selectOneMenu>
				<p:message for="pagamentoMenu" autoUpdate="true"/><br />
	
				<br />
		   		<p:commandButton action="#{fecharContratoController.fecharContrato()}" value="Fechar contrato" type="submit"/>
		   		<p:commandButton action="#{fecharContratoController.cancelar()}" value="Cancelar" ajax="false" immediate="true"/>
		</h:form>
		</ui:define>
	</ui:composition>
</h:body>
</html>